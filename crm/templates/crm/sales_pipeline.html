{% extends "crm/base.html" %} 
{% load custom_filters %}
{% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2>{{ client.name }}</h2>
      <div class="progress mb-4">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: {{ pipeline.current_stage|stage_progress }}%;"
          aria-valuenow="{{ pipeline.current_stage|stage_progress }}"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          {{ pipeline.get_current_stage_display }}
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3>Client Information</h3>
      <ul class="list-group">
        <li class="list-group-item">
          <strong>Phone Number:</strong> {{ client.phone_number }}
        </li>
        <li class="list-group-item">
          <strong>Email:</strong> {{ client.email }}
        </li>
        <li class="list-group-item">
          <strong>Address:</strong> {{ client.address }}
        </li>
        <li class="list-group-item">
          <strong>Owner:</strong> {{ client.owner.username }}
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <h3>Product and Proposal</h3>
      <!-- Form for adding products and proposals -->
      <form method="post">
        {% csrf_token %} {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Update Stage</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
